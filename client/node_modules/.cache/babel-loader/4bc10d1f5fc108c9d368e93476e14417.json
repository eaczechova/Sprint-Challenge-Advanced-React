{"ast":null,"code":"var _jsxFileName = \"/Users/ewaczech/Documents/FRONT_END_WEB_DEVELOPMENT/LambdaSchool/Sprint-Challenge-Advanced-React/client/src/App.js\";\nimport React, { useState, useEffect } from 'react';\nimport './App.css';\nimport useColors from './hooks/useColors';\nimport axios from 'axios';\n\nconst App = () => {\n  const [players, setPlayers] = useState([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [searchResult, setSearchResult] = useState([]);\n  const [countries, setCountries] = useState([]);\n  useEffect(() => {\n    const fetchData = async () => {\n      const result = await axios('http://localhost:5000/api/players');\n      console.log(countries);\n      console.log(searchResult);\n      countries.length > 0 ? setPlayers(countries) : searchResult.length > 0 ? setPlayers(searchResult) : setPlayers(result.data);\n    };\n\n    fetchData();\n  }, [searchResult, countries]);\n\n  const handleChange = e => {\n    setSearchTerm(e.target.value);\n  };\n\n  const handleSearch = e => {\n    e.preventDefault();\n    const playerCopy = [...players];\n    const searchResult = playerCopy.filter(player => player.name.toLowerCase().includes(searchTerm.toLowerCase()));\n    setSearchResult(searchResult);\n    setSearchTerm('');\n    console.log(players);\n  };\n\n  const [color, setColor] = useColors(false);\n\n  const toggleMode = e => {\n    e.preventDefault();\n    setColor(!color);\n  };\n\n  function filterByCountry(value) {\n    let country = value;\n    console.log(country);\n    const searchResult = players.filter(player => player.country.includes(country));\n    setCountries(searchResult);\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 4\n    }\n  }, \"List of players\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSearch,\n    \"data-testid\": \"form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    onChange: handleChange,\n    placeholder: \"Type name...\",\n    value: searchTerm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 5\n    }\n  }, \"Search\"), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 5\n    }\n  }, \"Toggle color\", /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    onClick: toggleMode,\n    \"data-testid\": \"toggle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 6\n    }\n  }))), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(\"ul\", {\n    \"data-testid\": \"list-of-players\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 4\n    }\n  }, players.length > 0 ? players.map(player => /*#__PURE__*/React.createElement(\"li\", {\n    key: player.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 8\n    }\n  }, player.name), /*#__PURE__*/React.createElement(\"a\", {\n    href: \"\",\n    onClick: () => filterByCountry(player.country),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 8\n    }\n  }, \"#\", player.country.toLowerCase()))) : /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 6\n    }\n  }, \"Loading data...\")));\n};\n\nexport default App;","map":{"version":3,"sources":["/Users/ewaczech/Documents/FRONT_END_WEB_DEVELOPMENT/LambdaSchool/Sprint-Challenge-Advanced-React/client/src/App.js"],"names":["React","useState","useEffect","useColors","axios","App","players","setPlayers","searchTerm","setSearchTerm","searchResult","setSearchResult","countries","setCountries","fetchData","result","console","log","length","data","handleChange","e","target","value","handleSearch","preventDefault","playerCopy","filter","player","name","toLowerCase","includes","color","setColor","toggleMode","filterByCountry","country","map","id"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './App.css';\nimport useColors from './hooks/useColors';\nimport axios from 'axios';\n\nconst App = () => {\n\tconst [players, setPlayers] = useState([]);\n\tconst [searchTerm, setSearchTerm] = useState('');\n\tconst [searchResult, setSearchResult] = useState([]);\n\tconst [countries, setCountries] = useState([]);\n\n\tuseEffect(() => {\n\t\tconst fetchData = async () => {\n\t\t\tconst result = await axios('http://localhost:5000/api/players');\n\t\t\tconsole.log(countries);\n\t\t\tconsole.log(searchResult);\n\n\t\t\tcountries.length > 0\n\t\t\t\t? setPlayers(countries)\n\t\t\t\t: searchResult.length > 0\n\t\t\t\t? setPlayers(searchResult)\n\t\t\t\t: setPlayers(result.data);\n\t\t};\n\t\tfetchData();\n\t}, [searchResult, countries]);\n\n\tconst handleChange = (e) => {\n\t\tsetSearchTerm(e.target.value);\n\t};\n\n\tconst handleSearch = (e) => {\n\t\te.preventDefault();\n\t\tconst playerCopy = [...players];\n\t\tconst searchResult = playerCopy.filter((player) =>\n\t\t\tplayer.name.toLowerCase().includes(searchTerm.toLowerCase())\n\t\t);\n\t\tsetSearchResult(searchResult);\n\t\tsetSearchTerm('');\n\t\tconsole.log(players);\n\t};\n\n\tconst [color, setColor] = useColors(false);\n\tconst toggleMode = (e) => {\n\t\te.preventDefault();\n\t\tsetColor(!color);\n\t};\n\n\tfunction filterByCountry(value) {\n\t\tlet country = value;\n\t\tconsole.log(country);\n\t\tconst searchResult = players.filter((player) =>\n\t\t\tplayer.country.includes(country)\n\t\t);\n\n\t\tsetCountries(searchResult);\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<h1>List of players</h1>\n\t\t\t<form onSubmit={handleSearch} data-testid=\"form\">\n\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tplaceholder=\"Type name...\"\n\t\t\t\t\tvalue={searchTerm}\n\t\t\t\t/>\n\t\t\t\t<button>Search</button>\n\t\t\t\t<label>\n\t\t\t\t\tToggle color\n\t\t\t\t\t<input type=\"checkbox\" onClick={toggleMode} data-testid=\"toggle\" />\n\t\t\t\t</label>\n\t\t\t</form>\n\t\t\t<p></p>\n\t\t\t<ul data-testid=\"list-of-players\">\n\t\t\t\t{players.length > 0 ? (\n\t\t\t\t\tplayers.map((player) => (\n\t\t\t\t\t\t<li key={player.id}>\n\t\t\t\t\t\t\t<p>{player.name}</p>\n\t\t\t\t\t\t\t<a href=\"\" onClick={() => filterByCountry(player.country)}>\n\t\t\t\t\t\t\t\t#{player.country.toLowerCase()}\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t))\n\t\t\t\t) : (\n\t\t\t\t\t<p>Loading data...</p>\n\t\t\t\t)}\n\t\t\t</ul>\n\t\t</div>\n\t);\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}